{% extends 'base.html.twig' %}
{% import 'macros/layout.html.twig' as layout %}
{% import 'macros/wiki.html.twig' as wiki %}

{% block body %}
<div class="panel panel-primary">
    {{ layout.userHeading(user, project, xtPage) }}

    <div class="panel-body xt-panel-body">
        {{ wiki.userLinks(user, project, xtPage) }}

        {#% set content %}
            <div class="col-lg-12 stat-list clearfix">
                <table class="table">
                    <tr>
                        <td>{{ msg('username') }}</td>
                        <td>{{ wiki.userLink(user, project) }}</td>
                    </tr>
                    <tr>
                        <td>{{ msg('user-id') }}</td>
                        <td>{{ id }}</td>
                    </tr>
                    <tr>
                        <td>{{ msg('user-groups') }}</td>
                        <td>{{ groups }}</td>
                    </tr>
                    {% if globalGroups is defined and globalGroups|length > 0 %}
                        <tr>
                            <td>{{ msg('global-user-groups') }}</td>
                            <td>
                                {% for group in globalGroups %}
                                    {{ group }}
                                {% endfor %}
                            </td>
                        </tr>
                    {% endif %}
                    <tr>
                        <td>{{ msg('total') }}</td>
                        <td>{{ rev|num_format }}</td>
                    </tr>
                    <tr>
                        <td>{{ msg('live-edits') }}</td>
                        <td>{{ live|num_format }}</td>
                    </tr>
                    <tr>
                        <td>{{ msg('deleted-edits') }}</td>
                        <td>{{ arch|num_format }}</td>
                    </tr>
                </table>
            </div>
        {% endset %}
        {{ layout.content_block('tool-sc-desc', content) }#}
        <div class="col-lg-12 stat-list clearfix">
            <table class="table table-striped table-responsive table-bordered table-xs-stack">
                {% for key, value in results %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                {% endfor %}
            </table>

        {#{
        chart.pie_chart('total_summaries',
        [{
            label: msg('with-summary'),
            value: totalSummaries,
            percentage: (totalSummaries / totalEdits) * 100
        },
        {
            label: msg('no-summary'),
            value: totalEdits - totalSummaries,
            percentage: 100 - ((totalSummaries / totalEdits) * 100)
        }]
        )
        }#}
    </div>
</div>
{% endblock %}
